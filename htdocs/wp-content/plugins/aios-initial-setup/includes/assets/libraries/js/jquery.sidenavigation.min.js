!function(){jQuery.fn.sideNavigation=function(e){!function(e,t){var o=jQuery(e);function s(e){return jQuery(e).length>0}if(t=jQuery.extend({sectionClass:"aios-scroll-section",sectionAttrTitle:"data-aios-scroll-title",skipSectionId:"",navSectionClass:"aios-section-nav",navSectionAppend:'<li class="{{scroll-id}}"><span class="scroll-section-title">{{scroll-title}}</span><a href="{{scroll-id}}" class="scroll-section-dot"><em style="font-size: 0 !important;">{{scroll-title}}</em></a></li>',navLinkId:"aios-scroll-id-",navArrow:!1,navArrowPrev:'<span class="aios-scroll-arrow aios-scroll-prev"></span>',navArrowNext:'<span class="aios-scroll-arrow aios-scroll-next"></span>',hasHeaderFix:!1,headerFixElement:".header",scrollSpeed:1500},t),!s(e))return console.log("Main element doesn't exists"),!1;if(!s("."+t.sectionClass))return console.log("Section element doesn't exists"),!1;if(!s("."+t.navSectionClass))return console.log("Section nav element doesn't exists"),!1;jQuery("."+t.sectionClass).each(function(o,s){var n,r=jQuery(s).attr("id"),a=jQuery(s).attr(t.sectionAttrTitle);if(n=(n=(n=(n=t.navSectionAppend).replace(/class\=\"\{\{scroll\-id\}\}\"/g,'class="'+t.navLinkId+r+'"')).replace(/\{\{scroll\-title\}\}/g,a)).replace(/\{\{scroll\-id\}\}/g,"#"+r),void 0==r||""==r||void 0==a||""==a)return console.log('All sections must have an ID and Title(Use attr "'+t.sectionAttrTitle+'").'),e.remove(),!1;t.skipSectionId!=r&&jQuery("."+t.navSectionClass).append(n)}),t.navArrow&&(jQuery("."+t.navSectionClass).before(t.navArrowPrev),jQuery("."+t.navSectionClass).after(t.navArrowNext));var n=jQuery("."+t.sectionClass).first().attr("id");function r(){var e=jQuery(window).scrollTop(),s=jQuery(window).height();jQuery("."+t.sectionClass).each(function(n,r){var i=jQuery(r).attr("id");if(winPosTop=jQuery(r).offset().top-s/2,winPosBottom=jQuery(r).offset().top+jQuery(r).height()-s/2,previousEl=jQuery(r).prev(),nextEl=jQuery(r).next(),atTheBottom=e+s==jQuery(document).height(),winPosTop<e&&winPosBottom>e||atTheBottom){if(void 0!=nextEl.attr(t.sectionAttrTitle)?(a(previousEl)&&void 0!=previousEl.attr(t.sectionAttrTitle)&&(i=previousEl.attr("id")),a(nextEl)&&nextEl.attr("id")==lastSectionClassId&&atTheBottom&&(i=lastSectionClassId)):atTheBottom&&(i=lastSectionClassId),void 0!=o.attr("class")){for(var l=o.attr("class").split(" "),c=[],n=0;n<l.length;n++){var u=l[n].search(/nav-active-section-/);u&&(c[c.length]=l[n])}o.removeClass().addClass(c.join(" "))}o.addClass("vertical-nav-active nav-active-section-"+i),t.skipSectionId==i&&o.removeClass("vertical-nav-active"),jQuery("."+t.navSectionClass+" *[class*="+t.navLinkId+"]").removeClass("nav-active-section"),jQuery("."+t.navSectionClass+" ."+t.navLinkId+i).addClass("nav-active-section")}})}function a(e){var t=e.offset(),o=e.outerHeight(),s=jQuery(window).scrollTop(),n=s+jQuery(window).height(),r=t.top+o;return t.top>=s&&r<=n}lastSectionClassId=jQuery("."+t.sectionClass).last().attr("id"),r(),jQuery(window).on("scroll resize",function(){r()});var i=jQuery("html, body");function l(e){var o=jQuery(e).offset().top;if(i.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)&&i.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup")}),t.hasHeaderFix){var s=jQuery(t.headerFixElement).outerHeight(!0);i.animate({scrollTop:o-s},t.scrollSpeed)}else i.animate({scrollTop:o},t.scrollSpeed)}jQuery("."+t.navSectionClass+" *[class*="+t.navLinkId+"] a").addClass("scroll-to-section"),jQuery(document).on("click",".scroll-to-section",function(e){e.preventDefault();var t=jQuery(e.currentTarget).attr("href");return l(t),!1}),jQuery(document).on("click",".aios-scroll-prev",function(e){e.preventDefault();var t=jQuery(".nav-active-section").prev().find("a.scroll-to-section").attr("href");return t!=n&&l(t),!1}),jQuery(document).on("click",".aios-scroll-next",function(e){e.preventDefault();var t=jQuery(".nav-active-section").next().find("a.scroll-to-section").attr("href");return t!=n&&l(t),!1})}(jQuery(this),e)}}();