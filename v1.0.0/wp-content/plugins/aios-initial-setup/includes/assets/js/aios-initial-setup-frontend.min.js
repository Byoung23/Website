!function(e){var t=function(t){var a=this;a.elem=e(t),a.elem.submit(function(e){e.preventDefault(),a.resetResults(a),a.isFormValid(a)&&(a.compute(a),a.scrollToResults(a))})};t.prototype.scrollToResults=function(t){var a=t.elem.find(".aios-mortgage-calculator-standalone-calculation-result").offset().top;e("html,body").animate({scrollTop:a-150},200)},t.prototype.resetResults=function(e){var t=e;t.elem.find("input[name='PI']").val(""),t.elem.find("input[name='MT']").val(""),t.elem.find("input[name='MI']").val(""),t.elem.find("input[name='MP']").val("")},t.prototype.isFormValid=function(e){var t=e,a=!0,n=t.elem.find(".aios-mortgage-calculator-standalone-number");return n.each(function(e,a){t.elem.find(".aios-mortgage-calculator-standalone-error-tooltip").remove(),n.removeClass("aios-mortgage-calculator-standalone-error")}),n.each(function(e,t){if(isNaN(parseInt(jQuery(t).val()))){var n=jQuery("<div class='aios-mortgage-calculator-standalone-error-tooltip'></div>");n.html("Specify a valid number"),jQuery(t).addClass("aios-mortgage-calculator-standalone-error").after(n),a=!1}}),a},t.prototype.floor=function(e){return Math.floor(e*Math.pow(10,2))/Math.pow(10,2)},t.prototype.compute=function(e){var t=e,a=parseInt(t.elem.find("input[name='IR']").val())/1200,n=1,r=1+a;for(i=0;i<12*parseInt(t.elem.find("input[name='YR']").val());i++)n*=r;t.elem.find("input[name='PI']").val(t.floor(parseInt(t.elem.find("input[name='LA']").val())*a/(1-1/n))),t.elem.find("input[name='MT']").val(t.floor(parseInt(t.elem.find("input[name='AT']").val())/12)),t.elem.find("input[name='MI']").val(t.floor(parseInt(t.elem.find("input[name='AI']").val())/12));var o=parseInt(t.elem.find("input[name='LA']").val())*a/(1-1/n)+parseInt(t.elem.find("input[name='AT']").val())/12+parseInt(t.elem.find("input[name='AI']").val())/12;t.elem.find("input[name='MP']").val(t.floor(o))},e(document).ready(function(){var a=e(window);function n(){e(".ai-mobile-phone").each(function(t,a){var n=e(a).data("filter"),o=e(window).width(),i=String(e(a).data("href")),s=e(a).data("ext"),l=i.replace(/[^a-zA-Z0-9]/g,""),c=l.split("");l=function(e){var t=new Array;for(string_to_convert=e.split(""),x=0;x<string_to_convert.length;x++)isNaN(string_to_convert[x])?t.push(r(string_to_convert[x])):t.push(string_to_convert[x]);return t.join("")}(l),c.length>13||"off"==n?phone_val=i:c.length>10&&c.length<14?phone_val=l.substr(0,1)+"."+l.substr(1,3)+"."+l.substr(4,3)+"."+l.substr(7,4):phone_val=l.substr(0,3)+"."+l.substr(3,3)+"."+l.substr(6,4),s=null!=s||""==s?";ext="+s:"",o<=1280?e(a).find("> a").length<=0&&(current_content=e(a).html(),e(a).empty().html('<a href="tel:'+phone_val+s+'">'+current_content+"</a>")):e(a).find("> a").length>0&&(current_content=e(a).find("> a").html(),e(a).empty().html(current_content))})}function r(e){switch(e.toLowerCase()){case"a":case"b":case"c":return"2";case"d":case"e":case"f":return"3";case"g":case"h":case"i":return"4";case"j":case"k":case"l":return"5";case"m":case"n":case"o":return"6";case"p":case"q":case"r":case"s":return"7";case"t":case"u":case"v":return"8";case"w":case"x":case"y":case"z":return"9";default:return""}}e('a[href^="mailto(coln)"], .asis-mailto-obfuscated-email').each(function(){var t=e(this).attr("data-value"),a=t.replace(/\(at\)/g,"@").replace(/\(dotted\)/g,".").replace(/^\s+|\s+$/gm,""),n="mailto:"+a;e(this).attr("href",n);var r,o=(r=e(this).html(),jQuery("<textarea>"+r+"</textarea>").text());e(this).html(o.replace(new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),a)),e(this).removeClass("asis-mailto-obfuscated-email-hidden")}),n(),/iPhone|iPod|iPad/.test(navigator.userAgent)&&e("iframe").filter(function(t,a){return!(void 0===e(a).attr("src")||e(a).attr("src").search(/http(s)?\:\/\/(.)*youtube\.com/g)>-1||e(a).attr("src").search(/http(s)?\:\/\/(.)*vimeo\.com/g)>-1||e(a).hasClass("asis-ios-iframe-fix-ignore"))}).wrap(function(){var t=e(this);return e("<div />").css({width:"100%",height:t.attr("height"),overflow:"auto","-webkit-overflow-scrolling":"touch"})}),e(".aios-mortgage-calculator-standalone").each(function(e,a){new t(jQuery(a))}),function(){if($videos=document.querySelectorAll(".aios-video-player"),$videos.length>0){var e=Array.from(document.querySelectorAll(".aios-video-player")).map(function(e){return new Plyr(e,{iconUrl:"https://resources.agentimage.com/libraries/svg/plyr.svg",hideControls:!0,muted:!1,toggleInvert:!1,youtube:{controls:0,showinfo:0}})});e.forEach(function(t,a){t.on("play",function(){e.forEach(function(e,a){t!=e&&e.pause()})})})}}(),a.on("load",function(){e("iframe[websource]").each(function(){var t=e(this).attr("websource");e(this).attr("src",t)}),/iPhone|iPod|iPad/.test(navigator.userAgent)&&e("iframe.aios-iframe").each(function(){var t=e(this).attr("height");e(this).parent().hasClass("iframe-enable-touch")||(e(this).wrapAll('<div class="iframe-enable-touch"></div>'),e(this).parent().css({width:"100%",height:t,overflow:"auto","-webkit-overflow-scrolling":"touch"}))})}),a.on("resize",function(){n()})})}(jQuery);